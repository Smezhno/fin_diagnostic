# ๐ FinRentgen

**ะคะธะฝะฐะฝัะพะฒัะน ัะตะฝัะณะตะฝ ะดะปั ะผะฐะปะพะณะพ ะฑะธะทะฝะตัะฐ**

FinRentgen ะฐะฝะฐะปะธะทะธััะตั P&L (ะพัััั ะพ ะฟัะธะฑัะปัั ะธ ัะฑััะบะฐั) ะธ ะฒัะดะฐัั ะฟะพะฝััะฝัะต actionable ะธะฝัะฐะนัั ะดะปั ะฒะปะฐะดะตะปััะตะฒ ะผะฐะปะพะณะพ ะฑะธะทะฝะตัะฐ.

## ๐ ะัััััะน ััะฐัั

### 1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน

```bash
git clone https://github.com/Smezhno/fin_diagnostic.git
cd fin_diagnostic
```

### 2. ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต

```bash
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# ะธะปะธ
venv\Scripts\activate     # Windows
```

### 3. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ

```bash
pip install -r requirements.txt
```

### 4. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

```bash
cp .env.example .env
```

ะัะบัะพะนัะต `.env` ะธ ัะบะฐะถะธัะต ะฒะฐั OpenAI API ะบะปัั:

```
OPENAI_API_KEY=sk-your-actual-api-key
```

### 5. ะะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต

```bash
python app.py
```

ะัะบัะพะนัะต http://localhost:7860 ะฒ ะฑัะฐัะทะตัะต.

## ๐ ะคะพัะผะฐั ะดะฐะฝะฝัั

ะัะธะปะพะถะตะฝะธะต ะฟัะธะฝะธะผะฐะตั CSV ะธะปะธ Excel ัะฐะนะปั ั P&L ะดะฐะฝะฝัะผะธ.

### ะัะธะผะตั ััััะบัััั ัะฐะนะปะฐ

| ะะตััั | ะััััะบะฐ | ะกะตะฑะตััะพะธะผะพััั | ะัะตะฝะดะฐ | ะคะะข | ะะฐัะบะตัะธะฝะณ | ะัะพัะธะต ัะฐััะพะดั |
|-------|---------|---------------|--------|-----|-----------|----------------|
| 2024-01 | 850000 | 340000 | 80000 | 150000 | 95000 | 45000 |
| 2024-02 | 920000 | 368000 | 80000 | 150000 | 110000 | 52000 |
| ... | ... | ... | ... | ... | ... | ... |

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะฝะฐะทะฒะฐะฝะธั ะบะพะปะพะฝะพะบ

- **ะะตัะธะพะด:** ะะตััั, ะะตัะธะพะด, ะะฐัะฐ, Date, Month
- **ะััััะบะฐ:** ะััััะบะฐ, Revenue, ะะพัะพะด, Sales, ะัะพะดะฐะถะธ, ะะฑะพัะพั
- **ะกะตะฑะตััะพะธะผะพััั:** ะกะตะฑะตััะพะธะผะพััั, COGS, ะะฐะบัะฟะบะฐ, ะกะตะฑะตัั.
- **ะัะตะฝะดะฐ:** ะัะตะฝะดะฐ, Rent
- **ะคะะข:** ะคะะข, ะะฐัะฟะปะฐัั, Payroll, ะะ, ะะฟะปะฐัะฐ ัััะดะฐ
- **ะะฐัะบะตัะธะฝะณ:** ะะฐัะบะตัะธะฝะณ, Marketing, ะะตะบะปะฐะผะฐ, ะัะพะดะฒะธะถะตะฝะธะต
- **ะัะพัะธะต:** ะัะพัะธะต ัะฐััะพะดั, Other, ะัะพัะตะต

### ะะฑัะฐะฑะพัะบะฐ "ะณััะทะฝัั" ะดะฐะฝะฝัั

ะัะธะปะพะถะตะฝะธะต ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑัะฐะฑะฐััะฒะฐะตั:
- ะงะธัะปะฐ ั ะฟัะพะฑะตะปะฐะผะธ: `1 200 000` โ `1200000`
- ะััััะต ะทะฝะฐัะตะฝะธั: `โ`, `ะฝะตั`, `-`, `ะฝ/ะด`
- ะัััะบะธะต ะฝะฐะทะฒะฐะฝะธั ะผะตัััะตะฒ: `ะฏะฝะฒะฐัั 2024`, `ะะฐัั`
- ะกััะพะบะธ "ะัะพะณะพ" โ ัะดะฐะปััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ

## ๐ ะงัะพ ะฐะฝะฐะปะธะทะธััะตััั

### ะะตััะธะบะธ (ัะฐัััะธััะฒะฐัััั ะปะพะบะฐะปัะฝะพ)
- ะกัะตะดะฝัั ะฒััััะบะฐ
- ะะฟะตัะฐัะธะพะฝะฝะฐั ะผะฐัะถะฐ
- ะกัะตะดะฝัั ะฟัะธะฑัะปั
- ะขัะตะฝะด ะฒััััะบะธ (ะฟะพัะปะตะดะฝะธะต 3 ะผะตัััะฐ vs ะฟัะตะดัะดััะธะต 3)
- ะะพะปะธ ัะฐััะพะดะพะฒ ะพั ะฒััััะบะธ
- ะะฝะพะผะฐะปะธะธ (ัะบะฐัะบะธ >30% ะผะตััั ะบ ะผะตัััั)

### ะะฝัะฐะนัั (ะพั AI)
- ๐ด **ะัะพะฑะปะตะผั** โ ะณะดะต ัะตัััััั ะดะตะฝัะณะธ
- ๐ก **ะะฐะฑะปัะดะตะฝะธั** โ ััะพ ััะพะธั ััะตััั
- ๐ข **ะะพะทะผะพะถะฝะพััะธ** โ ะณะดะต ะผะพะถะฝะพ ัะปัััะธัั

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต |
|------------|--------------|----------|
| `OPENAI_API_KEY` | โ | API ะบะปัั OpenAI (ะพะฑัะทะฐัะตะปัะฝะพ) |
| `OPENAI_MODEL` | `gpt-4o` | ะะพะดะตะปั OpenAI |
| `DEBUG` | `false` | ะะตะถะธะผ ะพัะปะฐะดะบะธ |
| `MAX_FILE_SIZE_MB` | `5` | ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ |
| `MAX_ROWS` | `100` | ะะฐะบัะธะผัะผ ะฟะตัะธะพะดะพะฒ ะดะปั ะฐะฝะฐะปะธะทะฐ |
| `MIN_PERIODS` | `3` | ะะธะฝะธะผัะผ ะฟะตัะธะพะดะพะฒ ะดะปั ะฐะฝะฐะปะธะทะฐ |
| `LLM_MAX_RETRIES` | `2` | ะะพะปะธัะตััะฒะพ ะฟะพะฒัะพัะพะฒ ะฟัะธ ะพัะธะฑะบะต |
| `LLM_TIMEOUT_SECONDS` | `60` | ะขะฐะนะผะฐัั ะทะฐะฟัะพัะฐ ะบ LLM |

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
fin-analyzer/
โโโ app.py              # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ config.py           # ะะพะฝัะธะณััะฐัะธั
โโโ core/
โ   โโโ analyzer.py     # ะัะบะตัััะฐัะธั ะฐะฝะฐะปะธะทะฐ
โ   โโโ metrics.py      # ะะฐัััั ะผะตััะธะบ
โโโ data/
โ   โโโ models.py       # Pydantic ะผะพะดะตะปะธ
โ   โโโ parser.py       # ะะฐััะธะฝะณ CSV/Excel
โ   โโโ cleaner.py      # ะัะธััะบะฐ ะดะฐะฝะฝัั
โโโ llm/
โ   โโโ client.py       # OpenAI ะบะปะธะตะฝั
โ   โโโ prompts.py      # ะัะพะผะฟัั
โ   โโโ response_parser.py  # ะะฐััะธะฝะณ JSON
โโโ ui/
โ   โโโ components.py   # Gradio UI
โ   โโโ styles.py       # CSS ััะธะปะธ
โโโ examples/
โ   โโโ sample_pnl_clean.csv
โ   โโโ sample_pnl_dirty.csv
โโโ requirements.txt
โโโ .env.example
โโโ RFC.md              # ะะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
โโโ PLAN.md             # ะะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ
```

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะััะธัะตะบัััะฐ

ะัะพะตะบั ะฟะพัััะพะตะฝ ะฟะพ ะฟัะธะฝัะธะฟั AI-ะฐะณะฝะพััะธัะฝะพััะธ:
- `LLMClient` โ ะฐะฑัััะฐะบัะฝัะน ะฟัะพัะพะบะพะป
- `OpenAIClient` โ ัะตะบััะฐั ัะตะฐะปะธะทะฐัะธั
- ะ ะฑัะดััะตะผ: `YandexGPTClient`, `GigaChatClient`

### ะัะธะฝัะธะฟั
1. **ะะตััะธะบะธ ััะธัะฐัััั ะปะพะบะฐะปัะฝะพ** โ LLM ัะพะปัะบะพ ะธะฝัะตัะฟัะตัะธััะตั
2. **ะััะทะฝัะต ะดะฐะฝะฝัะต โ ะฝะพัะผะฐ** โ ะฟะฐััะตั ะณะพัะพะฒ ะบ ัะตะฐะปัะฝัะผ Excel
3. **JSON ะผะพะถะตั ัะปะพะผะฐัััั** โ ะตััั repair-ะผะตัะฐะฝะธะบะฐ

## ๐ ะะธัะตะฝะทะธั

MIT

## ๐ค ะะพะฝัะฐะบัั

ะกะพะทะดะฐะฝะพ ะดะปั customer development ะธะฝัะตัะฒัั.

